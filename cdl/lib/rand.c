/*-----------------------------------------------------------------------------------------------------------*/
/*                                                                                                                                                                                           */
/*          Copyright (C) 2018 Brite Semiconductor Co., Ltd. All rights reserved.                                                                              */
/*                                                                                                                                                                                           */
/*-----------------------------------------------------------------------------------------------------------*/
#include "rand.h"

/*************************************************************************************************************/
// macro definition
/*************************************************************************************************************/

/*************************************************************************************************************/
// global variable definition
/*************************************************************************************************************/
static uint32_t g_seed = 0x12345678;

/*************************************************************************************************************/
// function prototype
/*************************************************************************************************************/


/*************************************************************************************************************/
// function implementation
/*************************************************************************************************************/
static uint32_t rand_r(uint32_t *p_seed)
{
	*p_seed ^= (*p_seed << 13);
	*p_seed ^= (*p_seed >> 17);
	*p_seed ^= (*p_seed << 5);

	return *p_seed;
}

uint32_t cb_rand(void)
{
	return rand_r(&g_seed);
}

void srand(uint32_t seed)
{
	g_seed = seed;
}

